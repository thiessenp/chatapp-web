{
	"info": {
		"_postman_id": "d5c29459-199c-4f26-8c31-ae27526ac49d",
		"name": "chatapp-web",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "{{HOST}}:{{PORT}}/api/",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b781c2a3-d38c-45a1-b458-1384d9ede113",
						"exec": [
							"tests[\"Status code is 200\"] = responseCode.code === 200;\r",
							"\r",
							"// PRE-TEST \r",
							"// Note Pre-request Script, will run before the Request\r",
							"\r",
							"// PARAMS\r",
							"//responseBody.has(\"\")\r",
							"//JSON.parse(responseBody); jsonData.data[1].id === X\r",
							"\r",
							"// GLOBAL VARS\r",
							"// postman.setGlobalVariable(\"idToken\", idToken);\r",
							"// postman.getGlobalVariable(\"idToken\");\r",
							"// {{idToken}}\r",
							"\r",
							"// ENVIRONMENT VARIABLES (drop down)\r",
							"// postman.setEnvironmentVariable(\"idToken\", idToken); -- local\r",
							"// ...\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "c246b36f-c795-4669-b595-20903972af99",
						"exec": [
							"// Runs before Request sent\r",
							"\r",
							"// postman.setGlobalVariable(\"key\", \"value\")\r",
							"// postman.setEnvironmentVariable(\"key\", \"val\")\r",
							"// postman.getGlobalVariable(\"key\")"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "{{HOST}}:{{PORT}}/api/404",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a0c8e50f-5b58-4409-ba83-5d617ffe522a",
						"exec": [
							"tests[\"Status code is 404\"] = responseCode.code === 404;\r",
							"\r",
							"// Get and 404 message\r",
							"// jsonData = JSON.parse(responseBody);\r",
							"// tests[\"404 message present\"] = jsonData.message !== undefined;\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "549f84bd-7754-4837-af65-e3179859e181",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/404",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"404"
					]
				}
			},
			"response": []
		},
		{
			"name": "{{HOST}}:{{PORT}}/api/login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "66505fc2-cf3e-48c7-92e3-24efc31db633",
						"exec": [
							"tests[\"Status code is 200\"] = responseCode.code === 200;\r",
							"\r",
							"// Get and verify Token\r",
							"jsonData = JSON.parse(responseBody);\r",
							"idToken = jsonData.idToken;\r",
							"tests[\"idToken not null\"] = idToken !== undefined;\r",
							"\r",
							"// Set Global Token for API uses\r",
							"postman.setGlobalVariable(\"idToken\", idToken);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "username",
							"value": "username",
							"type": "text"
						},
						{
							"key": "password",
							"value": "changeme",
							"type": "text"
						}
					],
					"options": {
						"urlencoded": {}
					}
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/login",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/healthCheck",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c1395c45-1f49-4833-b58d-82a4cd6015eb",
						"exec": [
							"// Token set from login in global var, global var used in Authorization part"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"type": "text",
						"disabled": true
					}
				],
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/healthCheck",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"healthCheck"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/chat",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a71e233a-d2db-479d-bb2f-44b1859125b8",
						"exec": [
							"// Note: Token set from login in global var, global var used in Authorization part\r",
							"\r",
							"tests[\"Status code is 200\"] = responseCode.code === 201;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "name",
							"value": "New Chat",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/chat",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"chat"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/chat (fail)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0dfe0dc6-dc0c-43f8-b0c0-0c5f608115ad",
						"exec": [
							"// Note: Token set from login in global var, global var used in Authorization part\r",
							"\r",
							"tests[\"Status code is 400\"] = responseCode.code === 400;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "name",
							"value": "New Chat",
							"type": "text",
							"disabled": true
						}
					]
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/chat",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"chat"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/chat",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a3b25c5d-f01f-453a-89eb-5213547e6361",
						"exec": [
							"// Note: Token set from login in global var, global var used in Authorization part\r",
							"\r",
							"tests[\"Status code is 200\"] = responseCode.code === 200;\r",
							"\r",
							"// Get chats, should be at least 2\r",
							"jsonData = JSON.parse(responseBody);\r",
							"chats = jsonData.data;\r",
							"tests[\"Two chats created\"] = chats.length >= 2;\r",
							"\r",
							"// Set Two Chat IDs to use in future tests\r",
							"postman.setGlobalVariable(\"chat_id1\", chats[0].id);\r",
							"postman.setGlobalVariable(\"chat_id2\", chats[1].id);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/chat",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"chat"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/chat/\"1\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f99822e6-d036-49f7-a4fd-5fd14374a37a",
						"exec": [
							"// Note: Token set from login in global var, global var used in Authorization part\r",
							"\r",
							"tests[\"Status code is 200\"] = responseCode.code === 200;\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/chat/{{chat_id1}}",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"chat",
						"{{chat_id1}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "localhost:3000/api/chat/\"2\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b12a7e3a-6371-41fd-9992-93e62a3a44b1",
						"exec": [
							"// Note: Token set from login in global var, global var used in Authorization part\r",
							"\r",
							"tests[\"Status code is 200\"] = responseCode.code === 200;\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{idToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2MDM5MjI4NjIsImV4cCI6MTYwMzkzMDA2Miwic3ViIjoiNzRiODA4MTUtMzk0My00NDUzLWJlNWItY2RiMmJjZjRmNjVjIn0.dmEg_ukCzWTWn-my0Pvpn4HydV_RL33kBp6DkGZRhiaQSaHiWTty9TJl6a4327KyS_e87QNJem6HmxHKULbaPtQMgfzHr5SP8lA3FmVkUbLkqWNMTiw-ayi-cuQ9WySuyTVBu-JQ8bmMz39KRu6aAEu0Btxjn94ukvJa3IJTZ3s",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "{{HOST}}:{{PORT}}/api/chat/{{chat_id2}}",
					"host": [
						"{{HOST}}"
					],
					"port": "{{PORT}}",
					"path": [
						"api",
						"chat",
						"{{chat_id2}}"
					]
				}
			},
			"response": []
		}
	],
	"protocolProfileBehavior": {}
}